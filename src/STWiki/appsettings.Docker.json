{
  "ConnectionStrings": { "Default": "Host=db;Database=stwiki;Username=stwiki;Password=stwiki" },
  "Auth": {
    "Authority": "http://localhost:5556/dex",
    "ClientId": "stwiki",
    "ClientSecret": "stwiki-secret",
    "CallbackPath": "/signin-oidc",
    "PostLogoutRedirectUri": "/",
    "AdminEmails": [ "admin@example.com" ],
    "AllowAnonymousRead": true
  },
  "CollaborativeEditing": {
    "Enabled": true,
    "YWebsocketUrl": "ws://yws:1234",
    "AutosaveSeconds": 20
  },
  "RawHtml": { "Allow": true },
  "ObjectStorage": {
    "Provider": "MinIO",
    "Endpoint": "minio:9000",
    "AccessKey": "minioadmin",
    "SecretKey": "minioadmin123",
    "BucketName": "stwiki-media",
    "Region": "us-east-1",
    "UseSSL": false
  },
  "Media": {
    "MaxFileSize": 52428800,
    "MaxFilesPerUser": 1000,
    "AllowedTypes": [
      "image/jpeg",
      "image/jpg", 
      "image/png",
      "image/gif",
      "image/webp",
      "application/pdf",
      "text/plain",
      "text/markdown",
      "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
      "application/vnd.openxmlformats-officedocument.presentationml.presentation"
    ],
    "ThumbnailSizes": [150, 300, 600, 1200],
    "EnableImageOptimization": true,
    "ImageQuality": 85,
    "MaxImageDimension": 2048,
    "AllowPublicAccess": true,
    "RequireDescriptions": false
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}