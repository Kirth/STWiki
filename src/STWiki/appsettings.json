{
  "ConnectionStrings": { "Default": "Host=localhost:5434;Database=stwiki;Username=stwiki;Password=stwiki" },
  "Auth": {
    "Authority": "http://localhost:5556/dex",
    "ClientId": "stwiki",
    "ClientSecret": "stwiki-secret",
    "CallbackPath": "/signin-oidc",
    "PostLogoutRedirectUri": "/",
    "AdminEmails": [ "admin@example.com" ],
    "AllowAnonymousRead": true
  },
  "Collab": {
    "Enabled": true,
    "Checkpoint": { 
      "MaxUpdates": 500, 
      "MaxSeconds": 20 
    },
    "MaxUpdateBytes": 32768,
    "Presence": { 
      "Enabled": true, 
      "TtlSeconds": 30 
    },
    "UseRedis": false,
    "Redis": { 
      "ConnectionString": "localhost:6379" 
    }
  },
  "RawHtml": { "Allow": true },
  "ObjectStorage": {
    "Provider": "MinIO",
    "Endpoint": "localhost:9000",
    "AccessKey": "minioadmin",
    "SecretKey": "minioadmin123",
    "BucketName": "stwiki-media",
    "Region": "us-east-1",
    "UseSSL": false
  },
  "Media": {
    "MaxFileSize": 52428800,
    "MaxFilesPerUser": 1000,
    "AllowedTypes": [
      "image/jpeg",
      "image/jpg", 
      "image/png",
      "image/gif",
      "image/webp",
      "application/pdf",
      "text/plain",
      "text/markdown",
      "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
      "application/vnd.openxmlformats-officedocument.presentationml.presentation"
    ],
    "ThumbnailSizes": [150, 300, 600, 1200],
    "EnableImageOptimization": true,
    "ImageQuality": 85,
    "MaxImageDimension": 2048,
    "AllowPublicAccess": true,
    "RequireDescriptions": false
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
